!function(e){var t=function(){return e("html").hasClass("editmode")},a=function(t){var a=e(".js-menu-language-popover"),s=e(".js-toggle-menu-language"),o=s.offset().top,n=s.offset().left,i=s.outerWidth(),l=s.outerHeight(),r=e(window).width();e("html").addClass("menu-language-popover-open"),a.css({top:o+l,right:r-n-i})};window.template=e.extend(window.template||{},{initBlogPage:function(){},initArticlePage:function(){},initCommonPage:function(){},initItemsPage:function(){t()||(e(document).ready(function(){setTimeout(function(){e(".js-content-item-box").addClass("not-loaded")},3e3)}),e(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var t=e(this).closest(".js-content-item-box");t.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){t.removeClass("not-loaded with-error"),t.find(".js-loader").remove()},3e3)}}))},initFrontPage:function(){},bindSiteSearch:function(t,a,s){t&&new VoogSearch(t,{per_page:10,lang:a,resultsContainer:e(".js-voog-search-modal").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:s})},bindLanguageFlagsToggle:function(){e(".js-toggle-language-flags").click(function(){e("html").hasClass("language-flags-disabled")?(e("html").removeClass("language-flags-disabled").addClass("language-flags-enabled"),siteData.set("language_flags_enabled",!0)):(e("html").removeClass("language-flags-enabled").addClass("language-flags-disabled"),siteData.set("language_flags_enabled",!1)),a()})},toggleFlags:function(){e(".js-option-toggle-flags").on("click",function(t){if(t.stopPropagation(),e(this).hasClass("js-flag-disable-btn"))var a=!1;else a=!0;siteData.set("flags_state",a),e(this).toggleClass("js-flag-disable-btn"),e(".js-menu-lang").toggleClass("flags-enabled flags-disabled")})},togglePadding:function(){e(".voog-padding-switcher").on("click",function(t){t.stopPropagation();var a=e(this).closest(".feature-section"),s=a.attr("data-section-name");if(e(a).toggleClass("section-with-padding"),e(this).closest(a).hasClass("section-with-padding"))var o=!1;else o=!0;pageData.set(s+"_is_wide",o)})},bindCustomTexteditorStyles:function(e){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:e,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])},bgPickerPreview:function(t,a){e(t).find(".js-background-color").css({"background-color":a.color?a.color:"transparent"})},bgPickerCommit:function(e,t){pageData.set(e,t)},bindContentItemImgDropAreas:function(t){e(".js-content-item-img-drop-area").each(function(a,s){var o=e(s),n=o.closest(".js-content-item-box"),i=n.data("item-id"),l=n.data("item-type");new Edicy.CustomData({type:l,id:i}),new Edicy.ImgDropArea(o,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+t+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(t){var a,s,r,d,c,g,m,u,p,h,f,C,v;o.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),t?(a=t.original_id,n.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),s=n,r=t.width,d=t.height,c=s.find(".js-content-item-img-drop-area"),g=s.find(".js-toggle-crop-state"),r>d?c.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):r===d?c.removeClass("image-landscape image-square image-portrait").addClass("image-square"):c.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),c.hasClass("image-square")?g.removeClass("is-visible").addClass("is-hidden"):g.removeClass("is-hidden").addClass("is-visible")):(a=null,n.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),n.find(".edy-img-drop-area-placeholder").css("opacity",0)),m=n,u=o,p=i,h=a,C="article"===(f=l)?"articles":"pages",v=new Edicy.CustomData({type:f,id:p}),e.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+C+"/"+p,data:JSON.stringify({image_id:h}),dataType:"json",success:function(e){v.set("image_crop_state","not-cropped"),m.removeClass("not-loaded with-error").addClass("is-loaded"),m.find(".edy-img-drop-area-placeholder").css("opacity",1),u.css("opacity",1)},timeout:3e4,error:function(e){m.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})}})})},bindContentItemImageCropToggle:function(){e(".js-toggle-crop-state").on("click",function(){var t,a=e(this).closest(".js-content-item-box"),s=a.find(".js-content-item-img-drop-area"),o=a.data("item-id"),n=a.data("item-type"),i=new Edicy.CustomData({type:n,id:o});s.hasClass("is-cropped")?(s.removeClass("is-cropped").addClass("not-cropped"),t="not-cropped"):(s.removeClass("not-cropped").addClass("is-cropped"),t="is-cropped"),i.set("image_crop_state",t)})},bindRootItemSettings:function(t){"show_product_related_pages_in_main_menu"in t||(t.show_product_related_pages_in_main_menu=!1),e(".js-root-item-settings-toggle").each(function(a,s){new Edicy.SettingsEditor(s,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:t,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(t){1==!t.show_product_related_pages_in_main_menu?e(".js-menu-item-products").addClass("is-hidden"):e(".js-menu-item-products").removeClass("is-hidden")},commit:function(e){siteData.set("settings_root_item",e)}})})},handleProductPageContent:function(){var t,a,s,o;e(document).ready(function(){n()}),e(window).resize((t=function(){n()},a=25,function(){var e=this,n=arguments,i=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||t.apply(e,n)},a),i&&t.apply(e,n)}));var n=function(){var t=e(".js-product-gallery"),a=e(".js-content-item-box"),s=e(".js-product-right-content");e(".js-buy-btn-content .edy-buy-button-container").length>=1&&(e(window).width()<640?0===e(".js-product-right-content + .js-product-gallery").length&&s.append(t):0===e(".js-content-item-box + .js-product-gallery").length&&a.parent().append(t))}},handleProductImageClick:function(a){t()&&e(".product-content .product-image").click(function(){window.open("/admin/ecommerce/products/"+a,"_blank").focus()})}}),e(document).on("click",function(t){if(!e(t.target).closest(".js-prevent-sideclick").length){var a=e("html");a.removeClass("menu-language-popover-open"),a.removeClass("site-search-opened"),setTimeout(function(){a.addClass("site-search-closed")},200)}}),e(".js-toggle-menu-language").click(function(){e("html").hasClass("menu-language-popover-open")?e("html").removeClass("menu-language-popover-open"):a()}),e(".js-toggle-site-search").click(function(){var t=e("html");t.hasClass("menu-main-opened")?(t.removeClass("menu-main-opened site-search-closed"),t.addClass("site-search-opened menu-main-closed"),e(".js-search-input").focus()):t.hasClass("site-search-closed")?(t.removeClass("site-search-closed"),t.addClass("site-search-opened"),e(".js-search-input").focus()):t.hasClass("site-search-opened")&&(t.removeClass("site-search-opened"),setTimeout(function(){t.addClass("site-search-closed")},200)),t.hasClass("menu-main-opened")&&t.removeClass("menu-main-opened")}),e(".js-clear-search-input").click(function(){var t=e(".js-search-input");t.val().length>0?t.val("").focus():e("html").removeClass("site-search-opened")}),e(".mobile-menu-toggler").click(function(t){t.preventDefault(),e("body").toggleClass("mobilemenu-open"),e("body").removeClass("mobilesearch-open")}),e(".mobile-menu-close").on("click",function(t){t.preventDefault(),e("body").hasClass("language-menu-open")?e("body").removeClass("language-menu-open"):e("body").removeClass("mobilemenu-open")}),e(".language-menu-btn").on("click",function(t){t.preventDefault(),e("body").addClass("language-menu-open")}),e(".tags-toggle").click(function(){e(this).find(".ico-arrow").toggleClass("active"),e(".tags-bottom").toggleClass("visible")}),e(document).ready(function(){e(".comment-form").hasClass("form_with_errors")?e("html, body").scrollTop(e(".comment-form").offset().top):e("form").find(".form_error, .form_notice").length>0&&e("html, body").scrollTop(e(".form_error, .form_notice").closest("form").offset().top)}),e("[class^=form_field_]").on("input change",function(){e(this).closest(".form_field_with_errors").removeClass("form_field_with_errors")}),e.each(e(".content-area"),function(){e(this).find("table").wrap('<div class="table-container"></div>')})}(jQuery);