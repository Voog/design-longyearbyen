!function(e){var a=function(a){var s=e(".js-menu-language-popover"),t=e(".js-toggle-menu-language"),o=t.offset().top,i=t.offset().left,n=t.outerWidth(),l=t.outerHeight(),r=e(window).width();e("html").addClass("menu-language-popover-open"),s.css({top:o+l,right:r-i-n})};window.template=e.extend(window.template||{},{initBlogPage:function(){},initArticlePage:function(){},initCommonPage:function(){},initItemsPage:function(){e("html").hasClass("editmode")||(e(document).ready(function(){setTimeout(function(){e(".js-content-item-box").addClass("not-loaded")},3e3)}),e(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var a=e(this).closest(".js-content-item-box");a.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){a.removeClass("not-loaded with-error"),a.find(".js-loader").remove()},3e3)}}))},initFrontPage:function(){},bindSiteSearch:function(a,s){a&&new VoogSearch(a,{per_page:10,lang:s,resultsContainer:e(".js-voog-search-modal").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!1})},bindLanguageFlagsToggle:function(){e(".js-toggle-language-flags").click(function(){e("html").hasClass("language-flags-disabled")?(e("html").removeClass("language-flags-disabled").addClass("language-flags-enabled"),siteData.set("language_flags_enabled",!0)):(e("html").removeClass("language-flags-enabled").addClass("language-flags-disabled"),siteData.set("language_flags_enabled",!1)),a()})},toggleFlags:function(){e(".js-option-toggle-flags").on("click",function(a){if(a.stopPropagation(),e(this).hasClass("js-flag-disable-btn"))var s=!1;else s=!0;siteData.set("flags_state",s),e(this).toggleClass("js-flag-disable-btn"),e(".js-menu-lang").toggleClass("flags-enabled flags-disabled")})},togglePadding:function(){e(".voog-padding-switcher").on("click",function(a){a.stopPropagation();var s=e(this).closest(".feature-section"),t=s.attr("data-section-name");if(e(s).toggleClass("section-with-padding"),e(this).closest(s).hasClass("section-with-padding"))var o=!1;else o=!0;pageData.set(t+"_is_wide",o)})},bindCustomTexteditorStyles:function(e){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:e,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])},bgPickerPreview:function(a,s){e(a).find(".js-background-color").css({"background-color":s.color?s.color:"transparent"})},bgPickerCommit:function(e,a){pageData.set(e,a)},bindContentItemImgDropAreas:function(a){e(".js-content-item-img-drop-area").each(function(s,t){var o=e(t),i=o.closest(".js-content-item-box"),n=i.data("item-id"),l=i.data("item-type");new Edicy.CustomData({type:l,id:n}),new Edicy.ImgDropArea(o,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+a+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(a){var s,t,r,d,c,g,m,u,p,h,f,C,v;o.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),a?(s=a.original_id,i.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),t=i,r=a.width,d=a.height,c=t.find(".js-content-item-img-drop-area"),g=t.find(".js-toggle-crop-state"),r>d?c.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):r===d?c.removeClass("image-landscape image-square image-portrait").addClass("image-square"):c.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),c.hasClass("image-square")?g.removeClass("is-visible").addClass("is-hidden"):g.removeClass("is-hidden").addClass("is-visible")):(s=null,i.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),i.find(".edy-img-drop-area-placeholder").css("opacity",0)),m=i,u=o,p=n,h=s,C="article"===(f=l)?"articles":"pages",v=new Edicy.CustomData({type:f,id:p}),e.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+C+"/"+p,data:JSON.stringify({image_id:h}),dataType:"json",success:function(e){v.set("image_crop_state","not-cropped"),m.removeClass("not-loaded with-error").addClass("is-loaded"),m.find(".edy-img-drop-area-placeholder").css("opacity",1),u.css("opacity",1)},timeout:3e4,error:function(e){m.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})}})})},bindContentItemImageCropToggle:function(){e(".js-toggle-crop-state").on("click",function(){var a,s=e(this).closest(".js-content-item-box"),t=s.find(".js-content-item-img-drop-area"),o=s.data("item-id"),i=s.data("item-type"),n=new Edicy.CustomData({type:i,id:o});t.hasClass("is-cropped")?(t.removeClass("is-cropped").addClass("not-cropped"),a="not-cropped"):(t.removeClass("not-cropped").addClass("is-cropped"),a="is-cropped"),n.set("image_crop_state",a)})},bindRootItemSettings:function(a){"show_product_related_pages_in_main_menu"in a||(a.show_product_related_pages_in_main_menu=!1),e(".js-root-item-settings-toggle").each(function(s,t){new Edicy.SettingsEditor(t,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:a,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(a){1==!a.show_product_related_pages_in_main_menu?e(".js-menu-item-products").addClass("is-hidden"):e(".js-menu-item-products").removeClass("is-hidden")},commit:function(e){siteData.set("settings_root_item",e)}})})}}),e(document).on("click",function(a){if(!e(a.target).closest(".js-prevent-sideclick").length){var s=e("html");s.removeClass("menu-language-popover-open"),s.removeClass("site-search-opened"),setTimeout(function(){s.addClass("site-search-closed")},200)}}),e(".js-toggle-menu-language").click(function(){e("html").hasClass("menu-language-popover-open")?e("html").removeClass("menu-language-popover-open"):a()}),e(".js-toggle-site-search").click(function(){var a=e("html");a.hasClass("menu-main-opened")?(a.removeClass("menu-main-opened site-search-closed"),a.addClass("site-search-opened menu-main-closed"),e(".js-search-input").focus()):a.hasClass("site-search-closed")?(a.removeClass("site-search-closed"),a.addClass("site-search-opened"),e(".js-search-input").focus()):a.hasClass("site-search-opened")&&(a.removeClass("site-search-opened"),setTimeout(function(){a.addClass("site-search-closed")},200)),a.hasClass("menu-main-opened")&&a.removeClass("menu-main-opened")}),e(".js-clear-search-input").click(function(){var a=e(".js-search-input");a.val().length>0?a.val("").focus():e("html").removeClass("site-search-opened")}),e(".mobile-menu-toggler").click(function(a){a.preventDefault(),e("body").toggleClass("mobilemenu-open"),e("body").removeClass("mobilesearch-open")}),e(".mobile-menu-close").on("click",function(a){a.preventDefault(),e("body").hasClass("language-menu-open")?e("body").removeClass("language-menu-open"):e("body").removeClass("mobilemenu-open")}),e(".language-menu-btn").on("click",function(a){a.preventDefault(),e("body").addClass("language-menu-open")}),e(".tags-toggle").click(function(){e(this).find(".ico-arrow").toggleClass("active"),e(".tags-bottom").toggleClass("visible")}),e(document).ready(function(){e(".comment-form").hasClass("form_with_errors")?e("html, body").scrollTop(e(".comment-form").offset().top):e("form").find(".form_error, .form_notice").length>0&&e("html, body").scrollTop(e(".form_error, .form_notice").closest("form").offset().top)}),e("[class^=form_field_]").on("input change",function(){e(this).closest(".form_field_with_errors").removeClass("form_field_with_errors")}),e.each(e(".content-area"),function(){e(this).find("table").wrap('<div class="table-container"></div>')})}(jQuery);